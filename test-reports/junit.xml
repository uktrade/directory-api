<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="1" failures="8" skipped="0" tests="881" time="159.952" timestamp="2023-11-13T13:59:37.053004" hostname="api.trade.great"><testcase classname="activitystream.tests.test_views" name="test_empty_object_returned_with_authentication" time="6.760" /><testcase classname="activitystream.tests.test_views" name="test_if_never_verified_not_in_stream" time="0.204" /><testcase classname="activitystream.tests.test_views" name="test_if_verified_with_code_in_stream_in_date_then_seq_order" time="0.118" /><testcase classname="activitystream.tests.test_views" name="test_if_verified_with_code_then_deleted_not_in_stream" time="0.060" /><testcase classname="activitystream.tests.test_views" name="test_if_verified_with_companies_house_oauth2_in_stream" time="0.021" /><testcase classname="activitystream.tests.test_views" name="test_if_verified_with_preverified_enrolment_in_stream" time="0.023" /><testcase classname="activitystream.tests.test_views" name="test_pagination" time="5.611" /><testcase classname="activitystream.tests.test_views" name="test_if_61_seconds_in_past_401_returned" time="0.022" /><testcase classname="activitystream.tests.test_views" name="test_activty_stream_company_viewset" time="0.097" /><testcase classname="activitystream.tests.test_views" name="test_activty_stream_exportplan_view" time="0.107" /><testcase classname="buyer.tests.test_admin.DownloadCSVTestCase" name="test_download_csv" time="0.171" /><testcase classname="buyer.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_multiple_buyers" time="0.095" /><testcase classname="buyer.tests.test_management_commands" name="test_upload_buyers_csv_to_s3" time="0.015" /><testcase classname="buyer.tests.test_models" name="test_buyer_name" time="0.077" /><testcase classname="buyer.tests.test_serializers" name="test_buyer_deserialization" time="0.008" /><testcase classname="buyer.tests.test_views" name="test_create_buyer_deserialization" time="0.009" /><testcase classname="buyer.tests.test_views" name="test_buyer_csv_dump" time="0.084" /><testcase classname="company.management.commands.tests.test_create_search_data" name="test_create_search_data" time="2.038" /><testcase classname="company.management.commands.tests.test_elasticsearch_migrate" name="test_elasticsearch_migrate_turned_on" time="0.883" /><testcase classname="company.management.commands.tests.test_elasticsearch_migrate" name="test_elasticsearch_migrate_turned_off" time="0.402" /><testcase classname="company.management.commands.tests.test_import_hscodes" name="test_create_search_data" time="0.070"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">@pytest.mark.django_db
    def test_create_search_data():
        HsCodeSector.objects.create(hs_code='1234', product='test product', sector='dummy')
&gt;       management.call_command('import_hscodes')

company/management/commands/tests/test_import_hscodes.py:13: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
company/management/commands/import_hscodes.py:13: in handle
    filestream = get_s3_file_stream('HS4.sectormap.v1.csv')
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff9822cfd0&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="company.management.commands.tests.test_import_hscodes" name="test_create_search_data_import_error" time="0.008"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">model_resouce_mock = &lt;MagicMock name='has_errors' id='281473247823568'&gt;

    @pytest.mark.django_db
    @mock.patch.object(results.Result, 'has_errors')
    def test_create_search_data_import_error(model_resouce_mock):
        model_resouce_mock.return_value = True
&gt;       management.call_command('import_hscodes')

company/management/commands/tests/test_import_hscodes.py:21: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
company/management/commands/import_hscodes.py:13: in handle
    filestream = get_s3_file_stream('HS4.sectormap.v1.csv')
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff986ce940&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="company.management.commands.tests.test_retrieve_companies_house_company_status" name="test_companies_house_active_status" time="0.031" /><testcase classname="company.management.commands.tests.test_retrieve_companies_house_company_status" name="test_companies_house_non_active_status" time="0.028" /><testcase classname="company.management.commands.tests.test_retrieve_companies_house_company_status" name="test_companies_house_missing_status_on_update" time="0.030" /><testcase classname="company.management.commands.tests.test_retrieve_companies_house_company_status" name="test_companies_house_missing_company_status_new_company" time="0.029" /><testcase classname="company.management.commands.tests.test_retrieve_companies_house_company_status" name="test_ignores_sole_traders" time="0.050" /><testcase classname="company.management.commands.tests.test_retrieve_companies_house_company_status" name="test_retrieve_company_status_handles_error" time="0.020" /><testcase classname="company.management.commands.tests.test_retrieve_missing_company_details" name="test_retrieve_missing_company_date" time="0.035" /><testcase classname="company.management.commands.tests.test_retrieve_missing_company_details" name="test_retrieve_missing_company_address" time="0.026" /><testcase classname="company.management.commands.tests.test_retrieve_missing_company_details" name="test_retrieve_missing_company_address_po_box" time="0.030" /><testcase classname="company.management.commands.tests.test_retrieve_missing_company_details" name="test_retrieve_missing_company_missing_date" time="0.031" /><testcase classname="company.management.commands.tests.test_retrieve_missing_company_details" name="test_retrieve_missing_company_404_case" time="0.024" /><testcase classname="company.management.commands.tests.test_retrieve_missing_company_details" name="test_ignores_sole_traders" time="0.041" /><testcase classname="company.management.commands.tests.test_retrieve_sic_codes_companies_house" name="test_retrieve_sic_codes_companies_house_update" time="0.030" /><testcase classname="company.management.commands.tests.test_retrieve_sic_codes_companies_house" name="test_retrieve_sic_codes_companies_house_update_additional" time="0.031" /><testcase classname="company.management.commands.tests.test_retrieve_sic_codes_companies_house" name="test_retrieve_sic_codes_companies_house_none" time="0.021" /><testcase classname="company.management.commands.tests.test_retrieve_sic_codes_companies_house" name="test_retrieve_sic_codes_companies_house_identical" time="0.022" /><testcase classname="company.management.commands.tests.test_retrieve_sic_codes_companies_house" name="test_retrieve_sic_codes_companies_house_different_order" time="0.021" /><testcase classname="company.management.commands.tests.test_retrieve_sic_codes_companies_house" name="test_retrieve_sic_codes_companies_house_handle_exception" time="0.020" /><testcase classname="company.tests.test_admin.PublishCompaniesTestCase" name="test_companies_in_post_set_to_published" time="0.257" /><testcase classname="company.tests.test_admin.PublishCompaniesTestCase" name="test_superuser_can_access_company_publish_view_get" time="0.121" /><testcase classname="company.tests.test_admin.CompanyAdminAuthTestCase" name="test_guest_cannot_access_company_publish_view_get" time="0.006" /><testcase classname="company.tests.test_admin.CompanyAdminAuthTestCase" name="test_guest_cannot_access_company_publish_view_post" time="0.018" /><testcase classname="company.tests.test_admin.CompanyAdminAuthTestCase" name="test_nonsuperuser_cannot_access_company_publish_view_get" time="0.093" /><testcase classname="company.tests.test_admin.CompanyAdminAuthTestCase" name="test_nonsuperuser_cannot_access_company_publish_view_post" time="0.103" /><testcase classname="company.tests.test_admin" name="test_companies_publish_form_doesnt_allow_numbers_that_dont_exist" time="0.019" /><testcase classname="company.tests.test_admin" name="test_companies_publish_form_handles_whitespace" time="0.039" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_ch_lookup_raise_404" time="0.199" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_ch_lookup_raise_non_404" time="0.144" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_existing" time="0.161" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_invalid_enrolment" time="0.131" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_no_ch_address" time="0.244" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_raises_exception" time="0.130" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_create_companies_form_success" time="0.154" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_download_csv_multiple_multiple_case_studies" time="0.188" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_download_csv_single_case_study" time="0.141" /><testcase classname="company.tests.test_admin.DownloadCaseStudyCSVTestCase" name="test_upload_expertise_companies_form_success" time="0.303" /><testcase classname="company.tests.test_admin.DownloadCSVTestCase" name="test_download_csv" time="0.144" /><testcase classname="company.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_company_sectors_is_empty" time="0.136" /><testcase classname="company.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_multiple_suppliers" time="0.155" /><testcase classname="company.tests.test_admin.ResendLetterTestCase" name="test_resend_letter" time="0.204" /><testcase classname="company.tests.test_admin" name="test_GDPR_compliance_filter" time="0.165" /><testcase classname="company.tests.test_admin" name="test_published_location_filter" time="0.144" /><testcase classname="company.tests.test_admin" name="test_verification_method_filter" time="0.148" /><testcase classname="company.tests.test_fixtures" name="test_load_test_fixture" time="0.378" /><testcase classname="company.tests.test_gecko" name="test_gecko_num_registered_supplier_correct" time="0.007" /><testcase classname="company.tests.test_helpers" name="test_extract_expertise_parser" time="0.025" /><testcase classname="company.tests.test_helpers" name="test_send_verification_letter_govnotify" time="0.050" /><testcase classname="company.tests.test_helpers" name="test_send_registration_letter_govnotify" time="0.052" /><testcase classname="company.tests.test_helpers" name="test_extract_recipient_address_gov_notify" time="0.020" /><testcase classname="company.tests.test_helpers" name="test_send_request_identity_verification_message" time="0.049" /><testcase classname="company.tests.test_helpers" name="test_send_new_user_invite_email" time="0.042" /><testcase classname="company.tests.test_helpers" name="test_send_new_user_invite_email_other_company" time="0.040" /><testcase classname="company.tests.test_helpers" name="test_extract_invite_details_name" time="0.036" /><testcase classname="company.tests.test_helpers" name="test_extract_invite_details_email" time="0.033" /><testcase classname="company.tests.test_helpers" name="test_get_user_company_name" time="0.049" /><testcase classname="company.tests.test_helpers" name="test_get_user_company_not_member" time="0.034" /><testcase classname="company.tests.test_helpers" name="test_get_company_user_alias_by_email" time="0.047" /><testcase classname="company.tests.test_helpers" name="test_get_company_user_alias_by_email_no_supplier" time="0.043" /><testcase classname="company.tests.test_helpers" name="test_send_admin_new_user_alert_invite_accepted_email" time="0.040" /><testcase classname="company.tests.test_helpers" name="test_send_admins_new_collaboration_request_email" time="0.023" /><testcase classname="company.tests.test_helpers" name="test_send_user_collaboration_request_accepted_email" time="0.022" /><testcase classname="company.tests.test_helpers" name="test_send_user_collaboration_request_declined_email" time="0.020" /><testcase classname="company.tests.test_helpers" name="test_get_duplicate_companies" time="0.085" /><testcase classname="company.tests.test_helpers" name="test_notify_duplicate_companies_no_duplicates" time="0.007" /><testcase classname="company.tests.test_helpers" name="test_notify_duplicate_companies" time="0.047" /><testcase classname="company.tests.test_management" name="test_upload_suppliers_csv_to_s3" time="0.090" /><testcase classname="company.tests.test_models" name="test_company_model_str" time="0.018" /><testcase classname="company.tests.test_models" name="test_company_generates_slug" time="0.016" /><testcase classname="company.tests.test_models" name="test_company_enforces_unique_company_number" time="0.021" /><testcase classname="company.tests.test_models" name="test_company_case_study_slug" time="0.018" /><testcase classname="company.tests.test_models" name="test_company_case_study_non_required_fields" time="0.016" /><testcase classname="company.tests.test_models" name="test_has_valid_address_some_values_missing" time="0.016" /><testcase classname="company.tests.test_models" name="test_has_valid_address_all_values_missing" time="0.015" /><testcase classname="company.tests.test_models" name="test_has_valid_address_all_values_present" time="0.016" /><testcase classname="company.tests.test_models" name="test_public_profile_url" time="0.015" /><testcase classname="company.tests.test_models" name="test_supplier_model_str" time="0.003" /><testcase classname="company.tests.test_models" name="test_user_model_is_company_owner_true" time="0.003" /><testcase classname="company.tests.test_models" name="test_user_model_is_company_owner_false" time="0.004" /><testcase classname="company.tests.test_search" name="test_company_doc_type" time="0.054" /><testcase classname="company.tests.test_search" name="test_company_doc_type_single_sector" time="0.021" /><testcase classname="company.tests.test_search" name="test_company_doc_type_single_sector_local_storage" time="0.020" /><testcase classname="company.tests.test_search" name="test_company_doc_type_single_sector_non_local_storage" time="0.023" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_untouches_is_published" time="0.020" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_is_published_field_with_isd" time="0.017" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_is_published_field_with_fab" time="0.019" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_sole_trader" time="0.020" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_doesnt_allow_changing_modified_timestamp" time="0.038" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_doesnt_accept_number_over_8_chars" time="0.007" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_save" time="0.019" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_nested_case_study" time="0.026" /><testcase classname="company.tests.test_serializers" name="test_company_case_study_explicit_value" time="0.036" /><testcase classname="company.tests.test_serializers" name="test_company_case_study_with_company" time="0.022" /><testcase classname="company.tests.test_serializers" name="test_add_collaborator_serializer_save" time="0.023" /><testcase classname="company.tests.test_serializers" name="test_add_collaborator_serializer_fail" time="0.019" /><testcase classname="company.tests.test_serializers" name="test_add_collaborator_serializer_company_not_found" time="0.009" /><testcase classname="company.tests.test_serializers" name="test_add_collaborator_serializer_default_user_role_has_admin" time="0.024" /><testcase classname="company.tests.test_serializers" name="test_add_collaborator_serializer_default_user_role_no_admin" time="0.022" /><testcase classname="company.tests.test_serializers" name="test_supplier_serializer_defaults_to_empty_string" time="0.007" /><testcase classname="company.tests.test_serializers" name="test_supplier_serializer_save" time="0.008" /><testcase classname="company.tests.test_serializers" name="test_supplier_with_company_serializer_save" time="0.020" /><testcase classname="company.tests.test_signals" name="test_does_not_overwrite_verification_code_if_already_set" time="0.018" /><testcase classname="company.tests.test_signals" name="test_does_not_send_verification_if_letter_already_sent" time="0.016" /><testcase classname="company.tests.test_signals" name="test_letter_sent" time="0.034" /><testcase classname="company.tests.test_signals" name="test_unknown_address_not_send_letters" time="0.018" /><testcase classname="company.tests.test_signals" name="test_publish[True-True-True]" time="0.017" /><testcase classname="company.tests.test_signals" name="test_publish[True-False-False]" time="0.017" /><testcase classname="company.tests.test_signals" name="test_publish[False-False-False]" time="0.015" /><testcase classname="company.tests.test_signals" name="test_publish[False-True-True]" time="0.015" /><testcase classname="company.tests.test_signals" name="test_store_date_published_unpublished_company" time="0.014" /><testcase classname="company.tests.test_signals" name="test_store_date_published_published_company_isd_without_date" time="0.030" /><testcase classname="company.tests.test_signals" name="test_store_date_published_published_company_fab_without_date" time="0.033" /><testcase classname="company.tests.test_signals" name="test_store_date_published_published_isd_company_with_date" time="0.016" /><testcase classname="company.tests.test_signals" name="test_store_date_published_published_fab_company_with_date" time="0.015" /><testcase classname="company.tests.test_signals" name="test_save_company_changes_to_elasticsearch[False-0]" time="0.016" /><testcase classname="company.tests.test_signals" name="test_save_company_changes_to_elasticsearch[True-1]" time="0.015" /><testcase classname="company.tests.test_signals" name="test_delete_company_from_elasticsearch" time="0.447" /><testcase classname="company.tests.test_signals" name="test_delete_unpublished_isd_company_from_elasticsearch" time="0.360" /><testcase classname="company.tests.test_signals" name="test_delete_unpublish_isd_company_from_elasticsearch" time="0.383" /><testcase classname="company.tests.test_signals" name="test_delete_unpublished_fab_company_from_elasticsearch" time="0.331" /><testcase classname="company.tests.test_signals" name="test_delete_unpublish_fab_company_from_elasticsearch" time="0.415" /><testcase classname="company.tests.test_signals" name="test_send_new_invite_collaboration_notification" time="0.051" /><testcase classname="company.tests.test_signals" name="test_send_new_invite_collaboration_notification_existing_company" time="0.058" /><testcase classname="company.tests.test_signals" name="test_send_acknowledgement_admin_email_on_invite_accept" time="0.052" /><testcase classname="company.tests.test_signals" name="test_send_acknowledgement_admin_email_on_invite_reject" time="0.055" /><testcase classname="company.tests.test_signals" name="test_send_acknowledgement_admin_email_on_invite_accept_modified" time="0.042" /><testcase classname="company.tests.test_signals" name="test_send_acknowledgement_admin_email_on_invite_accept_delete" time="0.035" /><testcase classname="company.tests.test_signals" name="test_set_companies_house_number" time="0.016" /><testcase classname="company.tests.test_signals" name="test_set_non_companies_house_number[SOLE_TRADER-ST]" time="0.016" /><testcase classname="company.tests.test_signals" name="test_set_non_companies_house_number[PARTNERSHIP-LP]" time="0.017" /><testcase classname="company.tests.test_signals" name="test_set_non_companies_house_number[CHARITY-CE]" time="0.018" /><testcase classname="company.tests.test_signals" name="test_set_non_companies_house_number[OTHER-OT]" time="0.020" /><testcase classname="company.tests.test_signals" name="test_does_not_send_verification_if_created_before_feature" time="0.034" /><testcase classname="company.tests.test_signals" name="test_send_verification_if_created_after_feature" time="0.038" /><testcase classname="company.tests.test_signals" name="test_user_send_collaboration_request_email_on_decline" time="0.112" /><testcase classname="company.tests.test_signals" name="test_send_admins_new_collaboration_request_notification" time="0.021" /><testcase classname="company.tests.test_signals" name="test_send_admins_new_collaboration_request_notification_not_sent_modify" time="0.024" /><testcase classname="company.tests.test_signals" name="test_user_send_collaboration_request_email_on_decline_not_sent_when_accepted" time="0.027" /><testcase classname="company.tests.test_signals" name="test_user_send_collaboration_request_email_on_accept" time="0.023" /><testcase classname="company.tests.test_signals" name="test_user_send_collaboration_request_email_on_accept_not_sent_on_modified" time="0.022" /><testcase classname="company.tests.test_validators" name="test_company_unique_rejects_existing" time="0.016" /><testcase classname="company.tests.test_validators" name="test_company_unique_accepts_new" time="0.005" /><testcase classname="company.tests.test_views" name="test_company_retrieve_no_company" time="0.073" /><testcase classname="company.tests.test_views" name="test_company_retrieve_view" time="0.058" /><testcase classname="company.tests.test_views" name="test_company_update_with_put" time="0.065" /><testcase classname="company.tests.test_views" name="test_company_partial_update" time="0.073" /><testcase classname="company.tests.test_views" name="test_company_partial_update_no_company" time="0.085" /><testcase classname="company.tests.test_views" name="test_company_not_update_modified" time="0.096" /><testcase classname="company.tests.test_views" name="test_company_number_validator_rejects_invalid_data" time="0.006" /><testcase classname="company.tests.test_views" name="test_company_number_validator_accepts_valid_data" time="0.005" /><testcase classname="company.tests.test_views" name="test_company_update" time="0.065" /><testcase classname="company.tests.test_views" name="test_company_case_study_create" time="0.093" /><testcase classname="company.tests.test_views" name="test_company_case_study_create_invalid_image" time="0.049" /><testcase classname="company.tests.test_views" name="test_company_case_study_create_not_an_image" time="0.040" /><testcase classname="company.tests.test_views" name="test_company_case_study_create_company_not_published" time="0.054" /><testcase classname="company.tests.test_views" name="test_company_case_study_update" time="0.049" /><testcase classname="company.tests.test_views" name="test_company_case_study_delete" time="0.042" /><testcase classname="company.tests.test_views" name="test_company_case_study_get" time="0.044" /><testcase classname="company.tests.test_views" name="test_public_company_case_study_get" time="0.040" /><testcase classname="company.tests.test_views" name="test_company_profile_public_retrieve_public_profile[True-False]" time="0.036" /><testcase classname="company.tests.test_views" name="test_company_profile_public_retrieve_public_profile[False-True]" time="0.033" /><testcase classname="company.tests.test_views" name="test_company_profile_public_retrieve_public_profile[True-True]" time="0.032" /><testcase classname="company.tests.test_views" name="test_company_profile_public_404_private_profile" time="0.019" /><testcase classname="company.tests.test_views" name="test_verify_company_with_code" time="0.055" /><testcase classname="company.tests.test_views" name="test_verify_company_with_code_invalid_code" time="0.043" /><testcase classname="company.tests.test_views" name="test_search_results[Wolf---expected0-investment-support-directory-search]" time="0.509" /><testcase classname="company.tests.test_views" name="test_search_results[Wolf---expected0-find-a-supplier-search]" time="0.520" /><testcase classname="company.tests.test_views" name="test_search_results[Tongue---expected1-investment-support-directory-search]" time="0.503" /><testcase classname="company.tests.test_views" name="test_search_results[Tongue---expected1-find-a-supplier-search]" time="0.491" /><testcase classname="company.tests.test_views" name="test_search_results[common---expected2-investment-support-directory-search]" time="0.492" /><testcase classname="company.tests.test_views" name="test_search_results[common---expected2-find-a-supplier-search]" time="0.478" /><testcase classname="company.tests.test_views" name="test_search_results[common-expertise_industries-filter_value3-expected3-investment-support-directory-search]" time="0.472" /><testcase classname="company.tests.test_views" name="test_search_results[common-expertise_industries-filter_value3-expected3-find-a-supplier-search]" time="0.503" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_industries-filter_value4-expected4-investment-support-directory-search]" time="0.487" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_industries-filter_value4-expected4-find-a-supplier-search]" time="0.495" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_industries-filter_value5-expected5-investment-support-directory-search]" time="0.475" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_industries-filter_value5-expected5-find-a-supplier-search]" time="0.463" /><testcase classname="company.tests.test_views" name="test_search_results[AEROSPACE---expected6-investment-support-directory-search]" time="0.458" /><testcase classname="company.tests.test_views" name="test_search_results[AEROSPACE---expected6-find-a-supplier-search]" time="0.479" /><testcase classname="company.tests.test_views" name="test_search_results[Regulatory---expected7-investment-support-directory-search]" time="0.484" /><testcase classname="company.tests.test_views" name="test_search_results[Regulatory---expected7-find-a-supplier-search]" time="0.491" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_industries-filter_value8-expected8-investment-support-directory-search]" time="0.490" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_industries-filter_value8-expected8-find-a-supplier-search]" time="0.452" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_regions-filter_value9-expected9-investment-support-directory-search]" time="0.486" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_regions-filter_value9-expected9-find-a-supplier-search]" time="0.459" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_regions-filter_value10-expected10-investment-support-directory-search]" time="0.456" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_regions-filter_value10-expected10-find-a-supplier-search]" time="0.477" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_languages-filter_value11-expected11-investment-support-directory-search]" time="0.463" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_languages-filter_value11-expected11-find-a-supplier-search]" time="0.517" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_languages-filter_value12-expected12-investment-support-directory-search]" time="0.486" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_languages-filter_value12-expected12-find-a-supplier-search]" time="0.500" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_countries-filter_value13-expected13-investment-support-directory-search]" time="0.474" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_countries-filter_value13-expected13-find-a-supplier-search]" time="0.463" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_countries-filter_value14-expected14-investment-support-directory-search]" time="0.627" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_countries-filter_value14-expected14-find-a-supplier-search]" time="0.485" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_products_services_labels-filter_value15-expected15-investment-support-directory-search]" time="0.530" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_products_services_labels-filter_value15-expected15-find-a-supplier-search]" time="0.460" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_products_services_labels-filter_value16-expected16-investment-support-directory-search]" time="0.527" /><testcase classname="company.tests.test_views" name="test_search_results[-expertise_products_services_labels-filter_value16-expected16-find-a-supplier-search]" time="0.536" /><testcase classname="company.tests.test_views" name="test_search_results_stopwords[limited-investment-support-directory-search]" time="0.473" /><testcase classname="company.tests.test_views" name="test_search_results_stopwords[limited-find-a-supplier-search]" time="0.478" /><testcase classname="company.tests.test_views" name="test_search_results_stopwords[plc-investment-support-directory-search]" time="0.619" /><testcase classname="company.tests.test_views" name="test_search_results_stopwords[plc-find-a-supplier-search]" time="0.475" /><testcase classname="company.tests.test_views" name="test_search_results_stopwords[ltd-investment-support-directory-search]" time="0.437" /><testcase classname="company.tests.test_views" name="test_search_results_stopwords[ltd-find-a-supplier-search]" time="0.461" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[AEROSPACE-expected0-investment-support-directory-search]" time="0.470" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[AEROSPACE-expected0-find-a-supplier-search]" time="0.470" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[BN-expected1-investment-support-directory-search]" time="0.487" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[BN-expected1-find-a-supplier-search]" time="0.518" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[EAST_MIDLANDS-expected2-investment-support-directory-search]" time="0.473" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[EAST_MIDLANDS-expected2-find-a-supplier-search]" time="0.469" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[ab-expected3-investment-support-directory-search]" time="0.455" /><testcase classname="company.tests.test_views" name="test_search_term_expertise[ab-expected3-find-a-supplier-search]" time="0.443" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters0-expected0-investment-support-directory-search]" time="0.597" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters0-expected0-find-a-supplier-search]" time="0.549" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters1-expected1-investment-support-directory-search]" time="0.598" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters1-expected1-find-a-supplier-search]" time="0.622" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters2-expected2-investment-support-directory-search]" time="0.552" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters2-expected2-find-a-supplier-search]" time="0.557" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters3-expected3-investment-support-directory-search]" time="0.546" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters3-expected3-find-a-supplier-search]" time="0.546" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters4-expected4-investment-support-directory-search]" time="0.560" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters4-expected4-find-a-supplier-search]" time="0.568" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters5-expected5-investment-support-directory-search]" time="0.557" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or[filters5-expected5-find-a-supplier-search]" time="0.545" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or_single[investment-support-directory-search]" time="0.390" /><testcase classname="company.tests.test_views" name="test_search_filter_and_or_single[find-a-supplier-search]" time="0.430" /><testcase classname="company.tests.test_views" name="test_search_filter_partial_match[investment-support-directory-search]" time="0.435" /><testcase classname="company.tests.test_views" name="test_search_filter_partial_match[find-a-supplier-search]" time="0.402" /><testcase classname="company.tests.test_views" name="test_search_order_sibling_filters[investment-support-directory-search]" time="0.476" /><testcase classname="company.tests.test_views" name="test_search_order_sibling_filters[find-a-supplier-search]" time="0.394" /><testcase classname="company.tests.test_views" name="test_search_order_search_term[investment-support-directory-search]" time="0.397" /><testcase classname="company.tests.test_views" name="test_search_order_search_term[find-a-supplier-search]" time="0.409" /><testcase classname="company.tests.test_views" name="test_search_order_case_study[investment-support-directory-search]" time="0.426" /><testcase classname="company.tests.test_views" name="test_search_order_case_study[find-a-supplier-search]" time="0.433" /><testcase classname="company.tests.test_views" name="test_search_american_english_full_words[investment-support-directory-search]" time="0.421" /><testcase classname="company.tests.test_views" name="test_search_american_english_full_words[find-a-supplier-search]" time="0.424" /><testcase classname="company.tests.test_views" name="test_search_american_english_synonyms[investment-support-directory-search]" time="0.400" /><testcase classname="company.tests.test_views" name="test_search_american_english_synonyms[find-a-supplier-search]" time="0.462" /><testcase classname="company.tests.test_views" name="test_search_results_highlight[investment-support-directory-search]" time="0.442" /><testcase classname="company.tests.test_views" name="test_search_results_highlight[find-a-supplier-search]" time="0.415" /><testcase classname="company.tests.test_views" name="test_search_results_highlight_long[investment-support-directory-search]" time="0.449" /><testcase classname="company.tests.test_views" name="test_search_results_highlight_long[find-a-supplier-search]" time="0.479" /><testcase classname="company.tests.test_views" name="test_verify_companies_house_missing_access_token" time="0.031" /><testcase classname="company.tests.test_views" name="test_verify_companies_house_invalid_access_token" time="0.034" /><testcase classname="company.tests.test_views" name="test_verify_companies_house_wrong_company_access_token" time="0.032" /><testcase classname="company.tests.test_views" name="test_verify_companies_house_expired_access_token" time="0.031" /><testcase classname="company.tests.test_views" name="test_verify_companies_house_good_access_token" time="0.042" /><testcase classname="company.tests.test_views" name="test_remove_collaborators" time="0.055" /><testcase classname="company.tests.test_views" name="test_remove_collaborators_cannot_remove_self" time="0.037" /><testcase classname="company.tests.test_views" name="test_multi_user_account_management_views_forbidden" time="0.026" /><testcase classname="company.tests.test_views" name="test_collaboration_request_create" time="0.033" /><testcase classname="company.tests.test_views" name="test_collaboration_request_list" time="0.047" /><testcase classname="company.tests.test_views" name="test_collaboration_request_delete" time="0.045" /><testcase classname="company.tests.test_views" name="test_collaboration_request_update" time="0.065" /><testcase classname="company.tests.test_views" name="test_collaboration_request_update_different_company" time="0.048" /><testcase classname="company.tests.test_views" name="test_request_identity_verification" time="0.029" /><testcase classname="company.tests.test_views" name="test_add_collaborator_view" time="0.044" /><testcase classname="company.tests.test_views" name="test_collaboration_invite_create" time="0.034" /><testcase classname="company.tests.test_views" name="test_collaboration_invite_list" time="0.079" /><testcase classname="company.tests.test_views" name="test_collaboration_invite_retrieve" time="0.051" /><testcase classname="company.tests.test_views" name="test_collaboration_invite_update" time="0.077" /><testcase classname="company.tests.test_views" name="test_collaboration_invite_delete" time="0.059" /><testcase classname="company.tests.test_views" name="test_change_collaborator_role[ADMIN]" time="0.040" /><testcase classname="company.tests.test_views" name="test_change_collaborator_role[EDITOR]" time="0.038" /><testcase classname="company.tests.test_views" name="test_change_collaborator_role[MEMBER]" time="0.034" /><testcase classname="company.tests.test_views" name="test_change_collaborator_role_wrong_company" time="0.043" /><testcase classname="company.tests.test_views" name="test_company_user_retrieve" time="0.029" /><testcase classname="company.tests.test_views" name="test_company_user_update" time="0.030" /><testcase classname="company.tests.test_views" name="test_company_user_retrieve_no_company_user" time="0.030" /><testcase classname="company.tests.test_views" name="test_gecko_num_registered_company_user_view_returns_correct_json" time="0.007" /><testcase classname="company.tests.test_views" name="test_gecko_num_registered_company_user_view_requires_auth" time="0.005" /><testcase classname="company.tests.test_views" name="test_gecko_num_registered_company_user_view_rejects_incorrect_creds" time="0.004" /><testcase classname="company.tests.test_views" name="test_unsubscribe_company_user" time="0.029" /><testcase classname="company.tests.test_views" name="test_unsubscribe_company_user_email_confirmation" time="0.029" /><testcase classname="company.tests.test_views" name="test_external_company_user_details_get_bearer_auth" time="0.026" /><testcase classname="company.tests.test_views" name="test_external_company_user_details_get_sso_auth" time="0.025" /><testcase classname="company.tests.test_views" name="test_external_company_user_details_post" time="0.019" /><testcase classname="company.tests.test_views" name="test_external_company_user_details_get_no_supplier" time="0.030" /><testcase classname="company.tests.test_views" name="test_external_company_user_sso_list" time="0.058" /><testcase classname="company.tests.test_views" name="test_company_collaborators_anon_users" time="0.005" /><testcase classname="company.tests.test_views" name="test_company_collaborators_not_profile_owner" time="0.031" /><testcase classname="company.tests.test_views" name="test_company_collaborators_profile_owner" time="0.054" /><testcase classname="company.tests.test_views" name="test_company_collaborators_profile_owner_collaborators" time="0.032" /><testcase classname="company.tests.test_views" name="test_company_user_csv_dump" time="0.087" /><testcase classname="company.tests.test_views" name="test_disconnect_company_user_sole_admin" time="0.148" /><testcase classname="company.tests.test_views" name="test_disconnect_company_user_multiple_admin[ADMIN]" time="0.035" /><testcase classname="company.tests.test_views" name="test_disconnect_company_user_multiple_admin[EDITOR]" time="0.036" /><testcase classname="company.tests.test_views" name="test_disconnect_company_user_multiple_admin[MEMBER]" time="0.036" /><testcase classname="company.tests.test_views" name="test_company_user_retrieve_sso_id" time="0.025" /><testcase classname="company.tests.test_views" name="test_company_delete_endpoint_single_user" time="0.048" /><testcase classname="company.tests.test_views" name="test_company_delete_endpoint_multiple_users" time="0.061" /><testcase classname="company.tests.test_views" name="test_company_delete_endpoint_for_random_user" time="0.024" /><testcase classname="company.tests.test_views" name="test_company_delete_endpoint_for_random_request_key" time="0.021" /><testcase classname="company.tests.test_views" name="test_company_delete_endpoint_for_user_not_associated_with_company" time="0.029" /><testcase classname="company.tests.test_views" name="test_company_delete_endpoint_for_user_with_export_plan" time="0.073" /><testcase classname="company.tests.test_views" name="test_isd_company_delete_endpoint" time="0.042" /><testcase classname="contact.tests.test_admin.DownloadMessageToSupplierCSVTestCase" name="test_download_csv" time="0.197" /><testcase classname="contact.tests.test_models" name="test_send_message_to_supplier_str" time="0.019" /><testcase classname="core.tests.test_authentication" name="test_sso_session_authentication_ok_session_id" time="0.024" /><testcase classname="core.tests.test_authentication" name="test_sso_session_authentication_bad_session_format" time="0.004" /><testcase classname="core.tests.test_authentication" name="test_sso_session_authentication_missing" time="0.004" /><testcase classname="core.tests.test_authentication" name="test_sso_session_authentication_bad_session_value" time="0.005" /><testcase classname="core.tests.test_authentication" name="test_sso_oauth2_authentication_ok_oauth_token" time="0.022" /><testcase classname="core.tests.test_authentication" name="test_sso_oauth2_authentication_bad_bearer_format" time="0.004" /><testcase classname="core.tests.test_authentication" name="test_sso_oauth2_authentication_missing" time="0.004" /><testcase classname="core.tests.test_authentication" name="test_sso_oauth2_authentication_bad_bearer_value" time="0.006" /><testcase classname="core.tests.test_fixtures" name="test_load_test_fixture" time="0.307" /><testcase classname="core.tests.test_management_commands" name="test_mask_data" time="0.508" /><testcase classname="core.tests.test_management_commands" name="test_distributed_migration_first" time="0.005" /><testcase classname="core.tests.test_management_commands" name="test_distributed_migration_second" time="0.005" /><testcase classname="core.tests.test_middleware" name="test_signature_check_middleware_admin" time="0.302" /><testcase classname="core.tests.test_middleware" name="test_signature_check_middleware_healthcheck" time="0.208" /><testcase classname="core.tests.test_middleware" name="test_signature_check_middleware_admin_login" time="0.287" /><testcase classname="core.tests.test_middleware" name="test_signature_check_middleware_authbroker_login" time="0.214" /><testcase classname="core.tests.test_middleware" name="test_authenticated_user_middleware_no_user" time="0.135" /><testcase classname="core.tests.test_middleware" name="test_authenticated_user_middleware_authorised_no_staff" time="0.315" /><testcase classname="core.tests.test_middleware" name="test_authenticated_user_middleware_authorised_with_staff" time="0.222" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_data_sets[CorruptionPerceptionsIndex-import_cpi_data-181-1]" time="0.300" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_data_sets[WorldEconomicOutlook-import_weo_data-1552-0]" time="4.245" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_error_import_data_sets_error" time="2.294" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_countries_data_sets[Country-import_countries-196]" time="0.446" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_countries_data_sets[RuleOfLaw-import_rank_of_law_data-131]" time="0.136" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_countries_data_sets[Currency-import_currency_data-269]" time="0.281" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_countries_data_sets[TradingBlocs-import_trading_blocs-356]" time="0.348" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_country_data_crud" time="0.036" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_rank_of_law_data_with_no_country" time="0.401" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_all" time="6.953"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">@pytest.mark.django_db
    def test_import_all():
        models.SuggestedCountry.objects.count() == 0
&gt;       management.call_command('import_all')

dataservices/management/commands/tests/test_import_data.py:101: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
dataservices/management/commands/import_all.py:31: in handle
    self.run_command(command)
dataservices/management/commands/import_all.py:26: in run_command
    call_command(command, stdout=f)
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
dataservices/management/commands/import_suggested_countries.py:12: in handle
    filestream = get_s3_file_stream('SR.CREST.ALL.csv')
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff97702850&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_comtrade" time="0.528"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">@pytest.mark.django_db
    def test_import_comtrade():
        management.call_command('import_countries')
&gt;       management.call_command('import_comtrade_data', '--test')

dataservices/management/commands/tests/test_import_data.py:108: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
dataservices/management/commands/import_comtrade_data.py:144: in handle
    self.populate_db_from_s3(filenames and filenames[0], test=options['test'])
dataservices/management/commands/import_comtrade_data.py:103: in populate_db_from_s3
    filestream = get_s3_file_stream(filename or settings.COMTRADE_DATA_FILE_NAME)
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff97351850&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_raw_comtrade" time="0.318" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_target_age_groups" time="20.961" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_urban_rural_population" time="1.731" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_factbook" time="5.114" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data[ConsumerPriceIndex-consumerpriceindex-20]" time="0.584" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data[GDPPerCapita-gdpcapita-5]" time="0.501" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data[EaseOfDoingBusiness-easeofdoingbusiness-2]" time="0.505" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data[Income-income-4]" time="0.470" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data[InternetUsage-internetusage-7]" time="0.497" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data_unknown_cmd" time="0.465" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_worldbank_data_all" time="0.534" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_uk_total_trade_data" time="0.513" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_uk_trade_in_services_data" time="0.468" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_uk_trade_in_goods_data" time="0.600" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_world_economic_outlook_data" time="0.584" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_metadata_source_data" time="0.020" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_data[dev-0]" time="0.008" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_data[staging-3]" time="0.007" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_data[uat-0]" time="0.006" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_data[production-0]" time="0.006" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_data_dry_run" time="0.005" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_data_error" time="0.005" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_market_guides_metadata_error" time="0.007" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_helper_get_view_metadata" time="0.007" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_helper_get_dataflow_metadata" time="0.015" /><testcase classname="dataservices.tests.test_helpers" name="test_get_comtrade_data_by_country" time="0.043" /><testcase classname="dataservices.tests.test_helpers" name="test_get_cia_factbook_by_country_all_data" time="0.031" /><testcase classname="dataservices.tests.test_helpers" name="test_get_cia_factbook_country_not_found" time="0.030" /><testcase classname="dataservices.tests.test_helpers" name="test_get_cia_factbook_by_keys" time="0.027" /><testcase classname="dataservices.tests.test_helpers" name="test_get_cia_factbook_by_keys_some_bad_Keys" time="0.026" /><testcase classname="dataservices.tests.test_helpers" name="test_get_internet_usage" time="0.029" /><testcase classname="dataservices.tests.test_helpers" name="test_get_internet_usage_with_no_country" time="0.027" /><testcase classname="dataservices.tests.test_helpers" name="test_deep_extend[o10-o20-result0]" time="0.027" /><testcase classname="dataservices.tests.test_helpers" name="test_deep_extend[o11-o21-result1]" time="0.026" /><testcase classname="dataservices.tests.test_helpers" name="test_deep_extend[o12-o22-result2]" time="0.028" /><testcase classname="dataservices.tests.test_helpers" name="test_deep_extend[o13-o23-result3]" time="0.027" /><testcase classname="dataservices.tests.test_helpers" name="test_notify_error_message" time="0.029" /><testcase classname="dataservices.tests.test_helpers" name="test_send_review_request_message[2023-11-13T13:59:38-None-1]" time="0.051" /><testcase classname="dataservices.tests.test_helpers" name="test_send_review_request_message[2023-11-13T13:59:38-2023-11-03T13:59:38-1]" time="0.048" /><testcase classname="dataservices.tests.test_helpers" name="test_send_review_request_message[2023-11-13T13:59:38-2023-11-13T14:00:38-0]" time="0.043" /><testcase classname="dataservices.tests.test_managers" name="test_uk_total_trade_manager_current_period_full_year" time="0.045" /><testcase classname="dataservices.tests.test_managers" name="test_uk_total_trade_manager_current_period_partial_year" time="0.045" /><testcase classname="dataservices.tests.test_managers" name="test_uk_total_trade_manager_market_trends_full_year" time="0.047" /><testcase classname="dataservices.tests.test_managers" name="test_uk_total_trade_manager_market_trends_partial_year" time="0.049" /><testcase classname="dataservices.tests.test_managers" name="test_uk_total_trade_manager_highlights" time="0.057" /><testcase classname="dataservices.tests.test_managers" name="test_uk_total_trade_manager_highlights_no_data" time="0.052" /><testcase classname="dataservices.tests.test_managers" name="test_uk_top_services_yearly_totals" time="0.169" /><testcase classname="dataservices.tests.test_managers" name="test_uk_top_services_quarterly_totals" time="0.151" /><testcase classname="dataservices.tests.test_managers" name="test_uk_top_services_with_no_records" time="0.027" /><testcase classname="dataservices.tests.test_managers" name="test_uk_top_goods" time="0.138" /><testcase classname="dataservices.tests.test_managers" name="test_uk_top_goods_with_no_records" time="0.026" /><testcase classname="dataservices.tests.test_managers" name="test_world_economic_outlook_manager_stats_latest_year" time="0.087" /><testcase classname="dataservices.tests.test_managers" name="test_world_economic_outlook_manager_stats_specific_year" time="0.065" /><testcase classname="dataservices.tests.test_models" name="test_model_to_str[ConsumerPriceIndexFactory]" time="0.027" /><testcase classname="dataservices.tests.test_models" name="test_model_to_str[EaseOfDoingBusiness]" time="0.027" /><testcase classname="dataservices.tests.test_models" name="test_model_to_str[GDPPerCapitaFactory]" time="0.029" /><testcase classname="dataservices.tests.test_models" name="test_model_to_str[IncomeFactory]" time="0.031" /><testcase classname="dataservices.tests.test_models" name="test_model_to_str[InternetUsageFactory]" time="0.028" /><testcase classname="dataservices.tests.test_models" name="test_suggested_country_hs_code" time="0.028" /><testcase classname="dataservices.tests.test_models" name="test_cia_factbook_country_name" time="0.027" /><testcase classname="dataservices.tests.test_models" name="test_world_economic_outlook_by_country_is_projection" time="0.033" /><testcase classname="dataservices.tests.test_models" name="test_metadata_view_name" time="0.021" /><testcase classname="dataservices.tests.test_models" name="test_uk_free_trade_agreement_no_name" time="0.024" /><testcase classname="dataservices.tests.test_tasks" name="test_load_cia_factbook_data_from_url" time="0.031" /><testcase classname="dataservices.tests.test_tasks" name="test_run_market_guides_ingest" time="0.023" /><testcase classname="dataservices.tests.test_trade_barrier_data_gateway" name="test_s3_filters_location_request[locations0-sectors0-( b.location = 'China' )]" time="0.022" /><testcase classname="dataservices.tests.test_trade_barrier_data_gateway" name="test_s3_filters_location_request[locations1-sectors1-( b.location = 'China' OR b.location = 'France' )]" time="0.022" /><testcase classname="dataservices.tests.test_trade_barrier_data_gateway" name="test_s3_filters_location_request[locations2-sectors2-( b.location = 'China' ) AND ( 'Automotive' IN b.sectors[*].name OR 'Food and drink' IN b.sectors[*].name OR 'All sectors' IN b.sectors[*].name )]" time="0.023" /><testcase classname="dataservices.tests.test_trade_barrier_data_gateway" name="test_s3_filters_location_request[locations3-sectors3-( 'Automotive' IN b.sectors[*].name OR 'All sectors' IN b.sectors[*].name )]" time="0.023" /><testcase classname="dataservices.tests.test_trade_barrier_data_gateway" name="test_request_raises_error" time="0.020" /><testcase classname="dataservices.tests.test_trade_barrier_data_gateway" name="test_bucket_by_country" time="0.023" /><testcase classname="dataservices.tests.test_views" name="test_comtrade_data_by_country" time="0.054" /><testcase classname="dataservices.tests.test_views" name="test_get_country_data_by_country_basic" time="0.051" /><testcase classname="dataservices.tests.test_views" name="test_get_country_data_by_country_filter" time="0.089" /><testcase classname="dataservices.tests.test_views" name="test_get_country_data_by_country_wrong_field" time="0.046" /><testcase classname="dataservices.tests.test_views" name="test_get_cia_factbook_data" time="0.037" /><testcase classname="dataservices.tests.test_views" name="test_get_cia_factbook_data_bad_country" time="0.034" /><testcase classname="dataservices.tests.test_views" name="test_get_cia_factbook_data_bad_first_key" time="0.036" /><testcase classname="dataservices.tests.test_views" name="test_get_cia_factbook_data_bad_second_key" time="0.033" /><testcase classname="dataservices.tests.test_views" name="test_get_cia_factbook_data_no_key" time="0.040" /><testcase classname="dataservices.tests.test_views" name="test_suggested_countries_api" time="0.535"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">client = &lt;django.test.client.Client object at 0xffff975c7460&gt;

    @pytest.mark.django_db
    def test_suggested_countries_api(client):
        # Two with same country and sector
        management.call_command('import_countries')
&gt;       management.call_command('import_suggested_countries')

dataservices/tests/test_views.py:229: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
dataservices/management/commands/import_suggested_countries.py:12: in handle
    filestream = get_s3_file_stream('SR.CREST.ALL.csv')
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff970f81c0&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="dataservices.tests.test_views" name="test_suggested_countries_api_without_hs_code" time="0.493"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">client = &lt;django.test.client.Client object at 0xffff972c89a0&gt;

    @pytest.mark.django_db
    def test_suggested_countries_api_without_hs_code(client):
        # Two with same country and sector
        management.call_command('import_countries')
&gt;       management.call_command('import_suggested_countries')

dataservices/tests/test_views.py:242: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
dataservices/management/commands/import_suggested_countries.py:12: in handle
    filestream = get_s3_file_stream('SR.CREST.ALL.csv')
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff96916220&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="dataservices.tests.test_views" name="test_society_data_by_country_with_country_arg_missing" time="0.035" /><testcase classname="dataservices.tests.test_views" name="test_society_data_by_country_with_country_not_found" time="0.037" /><testcase classname="dataservices.tests.test_views" name="test_society_data_by_country" time="0.040" /><testcase classname="dataservices.tests.test_views" name="test_society_data_repr" time="0.033" /><testcase classname="dataservices.tests.test_views" name="test_currencies_data_repr" time="0.032" /><testcase classname="dataservices.tests.test_views" name="test_trading_blocs_api" time="0.884" /><testcase classname="dataservices.tests.test_views" name="test_trading_blocs_api_with_no_iso2" time="0.043" /><testcase classname="dataservices.tests.test_views" name="test_trading_trade_barrier" time="0.037" /><testcase classname="dataservices.tests.test_views" name="test_trading_trade_barrier_with_sectors" time="0.035" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_top_five_goods_by_country_api" time="0.166" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_top_five_goods_by_country_api_for_no_iso2" time="0.153" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_trade_in_services_by_country_api" time="0.251" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_trade_in_services_by_country_api_for_no_iso" time="0.215" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_market_trends_api" time="0.040"><failure message="django.db.utils.IntegrityError: duplicate key value violates unique constraint &quot;dataservices_country_iso1_key&quot;&#10;DETAIL:  Key (iso1)=(528) already exists.">self = &lt;django.db.backends.utils.CursorWrapper object at 0xffff973627c0&gt;
sql = 'INSERT INTO "dataservices_country" ("created", "modified", "name", "iso1", "iso2", "iso3", "region", "is_active") VALUES (%s, %s, %s, %s, %s, %s, %s, %s) RETURNING "dataservices_country"."id"'
params = (datetime.datetime(2023, 11, 13, 14, 1, 45, 327112, tzinfo=datetime.timezone.utc), datetime.datetime(2023, 11, 13, 14,..., 327136, tzinfo=datetime.timezone.utc), 'fjwJUZAzjBcFsQKkfgyeGkPoEARUSBTOcBCewNokTUjLgmxDGY', '528', 'XY', 'EOI', ...)
ignored_wrapper_args = (False, {'connection': &lt;DatabaseWrapper vendor='postgresql' alias='default'&gt;, 'cursor': &lt;django.db.backends.utils.CursorWrapper object at 0xffff973627c0&gt;})

    def _execute(self, sql, params, *ignored_wrapper_args):
        self.db.validate_no_broken_transaction()
        with self.db.wrap_database_errors:
            if params is None:
                # params default might be backend specific.
                return self.cursor.execute(sql)
            else:
&gt;               return self.cursor.execute(sql, params)
E               psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "dataservices_country_iso1_key"
E               DETAIL:  Key (iso1)=(528) already exists.

/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:89: UniqueViolation

The above exception was the direct cause of the following exception:

client = &lt;django.test.client.Client object at 0xffff9758c220&gt;, metadata_source_records = None

    @pytest.mark.django_db
    def test_dataservices_market_trends_api(client, metadata_source_records):
&gt;       country = factories.CountryFactory(iso2='XY')

dataservices/tests/test_views.py:425: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/factory/base.py:46: in __call__
    return cls.create(**kwargs)
/usr/local/lib/python3.9/site-packages/factory/base.py:564: in create
    return cls._generate(enums.CREATE_STRATEGY, kwargs)
/usr/local/lib/python3.9/site-packages/factory/django.py:141: in _generate
    return super(DjangoModelFactory, cls)._generate(strategy, params)
/usr/local/lib/python3.9/site-packages/factory/base.py:501: in _generate
    return step.build()
/usr/local/lib/python3.9/site-packages/factory/builder.py:276: in build
    instance = self.factory_meta.instantiate(
/usr/local/lib/python3.9/site-packages/factory/base.py:315: in instantiate
    return self.factory._create(model, *args, **kwargs)
/usr/local/lib/python3.9/site-packages/factory/django.py:185: in _create
    return manager.create(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/django/db/models/manager.py:85: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/django/db/models/query.py:671: in create
    obj.save(force_insert=True, using=self.db)
core/helpers.py:95: in save
    super(TimeStampedModel, self).save(**kwargs)
/usr/local/lib/python3.9/site-packages/django/db/models/base.py:812: in save
    self.save_base(
/usr/local/lib/python3.9/site-packages/django/db/models/base.py:863: in save_base
    updated = self._save_table(
/usr/local/lib/python3.9/site-packages/django/db/models/base.py:1006: in _save_table
    results = self._do_insert(
/usr/local/lib/python3.9/site-packages/django/db/models/base.py:1047: in _do_insert
    return manager._insert(
/usr/local/lib/python3.9/site-packages/django/db/models/manager.py:85: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/django/db/models/query.py:1791: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
/usr/local/lib/python3.9/site-packages/django/db/models/sql/compiler.py:1660: in execute_sql
    cursor.execute(sql, params)
/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:67: in execute
    return self._execute_with_wrappers(
/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:80: in _execute_with_wrappers
    return executor(sql, params, many, context)
/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:89: in _execute
    return self.cursor.execute(sql, params)
/usr/local/lib/python3.9/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;django.db.backends.utils.CursorWrapper object at 0xffff973627c0&gt;
sql = 'INSERT INTO "dataservices_country" ("created", "modified", "name", "iso1", "iso2", "iso3", "region", "is_active") VALUES (%s, %s, %s, %s, %s, %s, %s, %s) RETURNING "dataservices_country"."id"'
params = (datetime.datetime(2023, 11, 13, 14, 1, 45, 327112, tzinfo=datetime.timezone.utc), datetime.datetime(2023, 11, 13, 14,..., 327136, tzinfo=datetime.timezone.utc), 'fjwJUZAzjBcFsQKkfgyeGkPoEARUSBTOcBCewNokTUjLgmxDGY', '528', 'XY', 'EOI', ...)
ignored_wrapper_args = (False, {'connection': &lt;DatabaseWrapper vendor='postgresql' alias='default'&gt;, 'cursor': &lt;django.db.backends.utils.CursorWrapper object at 0xffff973627c0&gt;})

    def _execute(self, sql, params, *ignored_wrapper_args):
        self.db.validate_no_broken_transaction()
        with self.db.wrap_database_errors:
            if params is None:
                # params default might be backend specific.
                return self.cursor.execute(sql)
            else:
&gt;               return self.cursor.execute(sql, params)
E               django.db.utils.IntegrityError: duplicate key value violates unique constraint "dataservices_country_iso1_key"
E               DETAIL:  Key (iso1)=(528) already exists.

/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:89: IntegrityError</failure></testcase><testcase classname="dataservices.tests.test_views" name="test_dataservices_market_trends_api" time="0.001"><error message="failed on teardown with &quot;django.db.transaction.TransactionManagementError: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.&quot;">@pytest.fixture()
    def metadata_source_records():
        data = {
            'TopFiveGoodsExportsByCountryView': {
                'source': {'organisation': 'ONS', 'label': 'goods exports', 'last_release': '30 June 2020'}
            },
            'TopFiveServicesExportsByCountryView': {
                'source': {'organisation': 'ONS', 'label': 'services exports', 'last_release': '30 June 2021'}
            },
            'UKMarketTrendsView': {
                'source': {'organisation': 'ONS', 'label': 'total exports', 'last_release': '30 June 2022'}
            },
            'UKTradeHighlightsView': {
                'source': {'organisation': 'ONS', 'label': 'total exports', 'last_release': '30 June 2022'}
            },
        }
        for view_name, metadata in data.items():
            models.Metadata.objects.create(view_name=view_name, data=metadata)
        yield
&gt;       models.Metadata.objects.all().delete()

dataservices/tests/conftest.py:235: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/db/models/query.py:1133: in delete
    deleted, _rows_count = collector.delete()
/usr/local/lib/python3.9/site-packages/django/db/models/deletion.py:467: in delete
    count = qs._raw_delete(using=self.using)
/usr/local/lib/python3.9/site-packages/django/db/models/query.py:1155: in _raw_delete
    cursor = query.get_compiler(using).execute_sql(CURSOR)
/usr/local/lib/python3.9/site-packages/django/db/models/sql/compiler.py:1398: in execute_sql
    cursor.execute(sql, params)
/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:67: in execute
    return self._execute_with_wrappers(
/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:80: in _execute_with_wrappers
    return executor(sql, params, many, context)
/usr/local/lib/python3.9/site-packages/django/db/backends/utils.py:83: in _execute
    self.db.validate_no_broken_transaction()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;DatabaseWrapper vendor='postgresql' alias='default'&gt;

    def validate_no_broken_transaction(self):
        if self.needs_rollback:
&gt;           raise TransactionManagementError(
                "An error occurred in the current transaction. You can't "
                "execute queries until the end of the 'atomic' block."
            )
E           django.db.transaction.TransactionManagementError: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.

/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py:520: TransactionManagementError</error></testcase><testcase classname="dataservices.tests.test_views" name="test_dataservices_market_trends_api_no_country_code" time="0.060" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_market_trends_api_filter_by_year" time="0.105" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_trade_highlights_api" time="0.102" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_trade_highlights_api_no_county_code" time="0.080" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_economic_highlights_api" time="0.092" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_economic_highlights_api_no_county_code" time="0.065" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_economic_highlights_api_no_data_found" time="0.104" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_uk_free_trade_agreements_api" time="0.043" /><testcase classname="dataservices.tests.test_views" name="test_dataservices_uk_free_trade_agreements_api_no_data" time="0.046" /><testcase classname="enrolment.tests.test_admin" name="test_upload_enrolment_form_saves_verified" time="0.111" /><testcase classname="enrolment.tests.test_admin" name="test_upload_enrolment_form_shows_erros" time="0.112" /><testcase classname="enrolment.tests.test_admin" name="test_upload_enrolment_form_rolls_back" time="0.110" /><testcase classname="enrolment.tests.test_admin" name="test_download_preverified_template" time="0.091" /><testcase classname="enrolment.tests.test_models" name="test_unique_together" time="0.006" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_viewset_create" time="0.033" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_viewset_create_optional_fields_unset" time="0.033" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_viewset_create_invalid_data" time="0.007" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_create_company_exception_rollback" time="0.024" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_create_supplier_exception_rollback" time="0.021" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_create_preverified_enrolment" time="0.028" /><testcase classname="enrolment.tests.test_views" name="test_enrolment_create_rollback" time="0.024" /><testcase classname="enrolment.tests.test_views" name="test_preverified_enrolment_retrieve_not_found" time="0.026" /><testcase classname="enrolment.tests.test_views" name="test_preverified_enrolment_retrieve_found" time="0.031" /><testcase classname="enrolment.tests.test_views" name="test_preverified_claim_company_bad_key" time="0.025" /><testcase classname="enrolment.tests.test_views" name="test_preverified_claim_company_succcess" time="0.065" /><testcase classname="enrolment.tests.test_views" name="test_preverified_retrieve_company_succcess" time="0.038" /><testcase classname="enrolment.tests.test_views" name="test_preverified_cretrieve_company_bad_key" time="0.023" /><testcase classname="exporting.tests.test_views" name="test_lookup_by_postcode_success" time="0.014" /><testcase classname="exporting.tests.test_views" name="test_lookup_by_postcode_success_multiple_region_ids" time="0.018" /><testcase classname="exporting.tests.test_views" name="test_lookup_by_postcode_unsuppported_post_code" time="0.008" /><testcase classname="exporting.tests.test_views" name="test_lookup_by_postcode_unsuppported_error" time="0.007" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_derive_no_total_cost_and_price" time="0.041" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_do_not_derive_export_quantity_when_already_done" time="0.037" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_derive_total_cost_and_price_quantity" time="0.044" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_do_not_derive_end_date_when_already_done" time="0.039" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_do_not_derive_end_date_when_invalid_unit" time="0.036" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_derive_end_date_from_days_value" time="0.038" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_derive_end_date_from_months_value" time="0.037" /><testcase classname="exportplan.management.commands.tests.test_derive_export_quantity_end" name="test_derive_end_date_from_years_value" time="0.038" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_report_export_plan_sum" time="0.156" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_is_ep_plan_empty_with_no_ui_progress" time="0.019" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_blank_ep_plan" time="0.017" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_section_for_try" time="0.024" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_section_for_except" time="0.022" /><testcase classname="exportplan.tests.test_helpers" name="test_get_unique_exportplan_name[existing_indices0-0]" time="0.018" /><testcase classname="exportplan.tests.test_helpers" name="test_get_unique_exportplan_name[existing_indices1-1]" time="0.030" /><testcase classname="exportplan.tests.test_helpers" name="test_get_unique_exportplan_name[existing_indices2-2]" time="0.043" /><testcase classname="exportplan.tests.test_helpers" name="test_get_unique_exportplan_name[existing_indices3-1]" time="0.045" /><testcase classname="exportplan.tests.test_helpers" name="test_get_unique_exportplan_name[existing_indices4-0]" time="0.055" /><testcase classname="exportplan.tests.test_helpers" name="test_get_unique_exportplan_name_empty" time="0.009" /><testcase classname="exportplan.tests.test_models" name="test_export_plan_answers_count" time="0.045" /><testcase classname="exportplan.tests.test_serializers" name="test_company_exportplan_serializer_save" time="0.026" /><testcase classname="exportplan.tests.test_serializers" name="test_company_exportplan_serializer_export_countries_fail" time="0.023" /><testcase classname="exportplan.tests.test_serializers" name="test_company_exportplan_serializer_commodity_codes_fail" time="0.022" /><testcase classname="exportplan.tests.test_serializers" name="test_export_plan_objectives_serializer_fail" time="0.005" /><testcase classname="exportplan.tests.test_signals" name="test_update_label[export_commodity_codes0-export_countries0-None]" time="0.024" /><testcase classname="exportplan.tests.test_signals" name="test_update_label[export_commodity_codes1-export_countries1-None]" time="0.027" /><testcase classname="exportplan.tests.test_signals" name="test_update_label[export_commodity_codes2-export_countries2-None]" time="0.027" /><testcase classname="exportplan.tests.test_signals" name="test_update_label[export_commodity_codes3-export_countries3-Export plan for selling gin to China]" time="0.027" /><testcase classname="exportplan.tests.test_signals" name="test_update_label_with_previous_state" time="0.036" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_retrieve" time="0.095" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_retrieve_403" time="0.067" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_retrieve_not_found" time="0.070" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_update" time="0.061" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_update_403" time="0.053" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_list_detail" time="0.060" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_create" time="0.026" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_update_json_new_to_partial" time="0.083" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_update_json_new_to_partial_inner_dict" time="0.093" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_update_non_json_new_to_partial" time="0.072" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_create[FundingCreditOptions-funding_credit_options-create_data0]" time="0.047" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_create[CompanyObjectives-company_objectives-create_data1]" time="0.048" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_create[RouteToMarkets-route_to_markets-create_data2]" time="0.046" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_create[TargetMarketDocuments-target_market_documents-create_data3]" time="0.049" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_create[BusinessTrips-business_trips-create_data4]" time="0.054" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_create[BusinessTrips-business_trips-create_data5]" time="0.046" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_retrieve[FundingCreditOptions-funding_credit_options]" time="0.046" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_retrieve[CompanyObjectives-company_objectives]" time="0.042" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_retrieve[RouteToMarkets-route_to_markets]" time="0.042" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_retrieve[TargetMarketDocuments-target_market_documents]" time="0.045" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_retrieve[BusinessTrips-business_trips]" time="0.042" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_retrieve[BusinessRisks-business_risks]" time="0.043" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_update[FundingCreditOptions-funding_credit_options-data_update0]" time="0.048" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_update[CompanyObjectives-company_objectives-data_update1]" time="0.050" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_update[RouteToMarkets-route_to_markets-data_update2]" time="0.049" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_update[TargetMarketDocuments-target_market_documents-data_update3]" time="0.045" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_update[BusinessTrips-business_trips-data_update4]" time="0.044" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_update[BusinessRisks-business_risks-data_update5]" time="0.044" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_delete[FundingCreditOptions-funding_credit_options]" time="0.043" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_delete[CompanyObjectives-company_objectives]" time="0.048" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_delete[RouteToMarkets-route_to_markets]" time="0.043" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_delete[TargetMarketDocuments-target_market_documents]" time="0.044" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_delete[BusinessTrips-business_trips]" time="0.041" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_model_delete[BusinessRisks-business_risks]" time="0.042" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_pdf_upload" time="0.054" /><testcase classname="exportplan.tests.test_views" name="test_export_plan_pdf_upload_403" time="0.055" /><testcase classname="notifications.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_anonymous_email_notification" time="0.098" /><testcase classname="notifications.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_multiple_anonymous_email_notifications" time="0.095" /><testcase classname="notifications.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_multiple_supplier_email_notifications" time="0.134" /><testcase classname="notifications.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_supplier_email_notification" time="0.114" /><testcase classname="notifications.tests.test_admin.DownloadCSVTestCase" name="test_download_csv_supplier_email_notification_no_company" time="0.143" /><testcase classname="notifications.tests.test_email" name="test_new_companies_in_sector_limit_companies" time="0.005" /><testcase classname="notifications.tests.test_notifications" name="test_doesnt_send_ver_code_email_when_user_has_input_ver_code" time="0.057" /><testcase classname="notifications.tests.test_notifications" name="test_sends_ver_code_email_when_not_input_for_8_days" time="0.078" /><testcase classname="notifications.tests.test_notifications" name="test_ver_code_email_has_expected_vars_in_template" time="0.041" /><testcase classname="notifications.tests.test_notifications" name="test_sends_ver_code_email_when_not_input_for_16_days" time="0.067" /><testcase classname="notifications.tests.test_notifications" name="test_ver_code_email2_has_expected_vars_in_template" time="0.040" /><testcase classname="notifications.tests.test_notifications" name="test_sends_ver_code_email_when_8_days_passed_but_not_to_the_minute" time="0.052" /><testcase classname="notifications.tests.test_notifications" name="test_sends_ver_code_email_when_16_days_passed_but_not_to_the_minute" time="0.054" /><testcase classname="notifications.tests.test_notifications" name="test_doesnt_send_ver_code_email_if_email_already_sent" time="0.038" /><testcase classname="notifications.tests.test_notifications" name="test_ver_code_email_uses_settings_for_no_of_days_and_subject_for_email1" time="0.037" /><testcase classname="notifications.tests.test_notifications" name="test_ver_code_email_uses_settings_for_no_of_days_and_subject_for_email2" time="0.041" /><testcase classname="notifications.tests.test_notifications" name="test_sends_ver_code_email_to_expected_users" time="0.212" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector" time="0.070" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_exclude_unsbscribed" time="0.048" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_exclude_company_users_without_companies" time="0.029" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_exclude_already_sent_recently" time="0.045" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_include_already_sent_long_time_ago" time="0.041" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_records_notification" time="0.040" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_single_email_per_buyer" time="0.185" /><testcase classname="notifications.tests.test_notifications" name="test_new_companies_in_sector_company_multiple_sectors" time="0.057" /><testcase classname="notifications.tests.test_notifications" name="test_company_user_unsubscribed" time="0.021" /><testcase classname="notifications.tests.test_notifications" name="test_anonymous_unsubscribed" time="0.006" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_create_missing_params" time="0.008" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_no_email" time="0.006" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_token_invalid" time="0.006" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_email_and_token_valid" time="0.011" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_already_unsubscribed" time="0.008" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_backwards_compatible" time="0.008" /><testcase classname="notifications.tests.test_views" name="test_create_anonymous_unsubscribe_email_confirmation" time="0.009" /><testcase classname="personalisation.management.commands.test_import_suggested_countries" name="test_personalisation_import_data_sets[SuggestedCountry-import_suggested_countries-495]" time="0.474"><failure message="ValueError: Invalid endpoint: https://s3..amazonaws.com">model_name = &lt;class 'dataservices.models.SuggestedCountry'&gt;, management_cmd = 'import_suggested_countries', object_count = 495

    @pytest.mark.django_db
    @pytest.mark.parametrize(
        'model_name, management_cmd, object_count', ((models.SuggestedCountry, 'import_suggested_countries', 495),)
    )
    def test_personalisation_import_data_sets(model_name, management_cmd, object_count):
        # importing countries before suggested countries as it has FK to countries
        management.call_command('import_countries')
&gt;       management.call_command(management_cmd)

personalisation/management/commands/test_import_suggested_countries.py:14: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.9/site-packages/django/core/management/__init__.py:198: in call_command
    return command.execute(*args, **defaults)
/usr/local/lib/python3.9/site-packages/django/core/management/base.py:448: in execute
    output = self.handle(*args, **options)
dataservices/management/commands/import_suggested_countries.py:12: in handle
    filestream = get_s3_file_stream('SR.CREST.ALL.csv')
core/helpers.py:59: in get_s3_file_stream
    s3_resource = get_file_from_s3(bucket_name, file_name)
core/helpers.py:48: in get_file_from_s3
    s3 = boto3.client(
/usr/local/lib/python3.9/site-packages/boto3/__init__.py:92: in client
    return _get_default_session().client(*args, **kwargs)
/usr/local/lib/python3.9/site-packages/boto3/session.py:299: in client
    return self._session.create_client(
/usr/local/lib/python3.9/site-packages/botocore/session.py:976: in create_client
    client = client_creator.create_client(
/usr/local/lib/python3.9/site-packages/botocore/client.py:126: in create_client
    client_args = self._get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/client.py:471: in _get_client_args
    return args_creator.get_client_args(
/usr/local/lib/python3.9/site-packages/botocore/args.py:126: in get_client_args
    endpoint = endpoint_creator.create_endpoint(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;botocore.endpoint.EndpointCreator object at 0xffff94f8e310&gt;, service_model = ServiceModel(s3), region_name = ''
endpoint_url = 'https://s3..amazonaws.com', verify = None, response_parser_factory = &lt;botocore.parsers.ResponseParserFactory object at 0xffff984a94c0&gt;
timeout = (60, 60), max_pool_connections = 10, http_session_cls = &lt;class 'botocore.httpsession.URLLib3Session'&gt;, proxies = None
socket_options = [(6, 1, 1)], client_cert = None, proxies_config = None

    def create_endpoint(
        self,
        service_model,
        region_name,
        endpoint_url,
        verify=None,
        response_parser_factory=None,
        timeout=DEFAULT_TIMEOUT,
        max_pool_connections=MAX_POOL_CONNECTIONS,
        http_session_cls=URLLib3Session,
        proxies=None,
        socket_options=None,
        client_cert=None,
        proxies_config=None,
    ):
        if not is_valid_endpoint_url(
            endpoint_url
        ) and not is_valid_ipv6_endpoint_url(endpoint_url):
&gt;           raise ValueError("Invalid endpoint: %s" % endpoint_url)
E           ValueError: Invalid endpoint: https://s3..amazonaws.com

/usr/local/lib/python3.9/site-packages/botocore/endpoint.py:402: ValueError</failure></testcase><testcase classname="personalisation.tests.test_views" name="test_user_location_create" time="0.029" /><testcase classname="personalisation.tests.test_views" name="test_user_location_create_already_exists" time="0.030" /><testcase classname="personalisation.tests.test_views" name="test_events_api" time="0.079" /><testcase classname="personalisation.tests.test_views" name="test_export_opportunities_api" time="0.026" /><testcase classname="personalisation.tests.test_views" name="test_recommended_countries_api" time="0.014" /><testcase classname="survey.tests.test_admin" name="test_choice_inline_form_validation[None-expected_errors0]" time="0.029" /><testcase classname="survey.tests.test_admin" name="test_choice_inline_form_validation[end-expected_errors1]" time="0.016" /><testcase classname="survey.tests.test_admin" name="test_choice_inline_form_validation[jump-expected_errors2]" time="0.021" /><testcase classname="survey.tests.test_admin" name="test_choice_admin_form_validation[end-False]" time="0.012" /><testcase classname="survey.tests.test_admin" name="test_choice_admin_form_validation[jump-False]" time="0.014" /><testcase classname="survey.tests.test_admin" name="test_choice_admin_form_validation[None-True]" time="0.010" /><testcase classname="survey.tests.test_models" name="test_model_to_string[SurveyFactory-name]" time="0.004" /><testcase classname="survey.tests.test_models" name="test_model_to_string[QuestionFactory-title]" time="0.005" /><testcase classname="survey.tests.test_models" name="test_choice_clean_fields_additional_routing_error_raised" time="0.009" /><testcase classname="survey.tests.test_models" name="test_choice_clean_fields_additional_routing_success" time="0.009" /><testcase classname="survey.tests.test_models" name="test_choices_with_additional_routing_property[None-None-0]" time="0.008" /><testcase classname="survey.tests.test_models" name="test_choices_with_additional_routing_property[None-jump-1]" time="0.011" /><testcase classname="survey.tests.test_models" name="test_choices_with_additional_routing_property[None-end-1]" time="0.009" /><testcase classname="survey.tests.test_models" name="test_choices_with_additional_routing_property[jump-jump-2]" time="0.012" /><testcase classname="survey.tests.test_models" name="test_choices_with_additional_routing_property[end-end-2]" time="0.010" /><testcase classname="survey.tests.test_models" name="test_choices_with_additional_routing_property[jump-end-2]" time="0.010" /><testcase classname="survey.tests.test_serializers" name="test_get_jump_field" time="0.013" /><testcase classname="survey.tests.test_views" name="test_get_survey_not_found" time="0.006" /><testcase classname="survey.tests.test_views" name="test_get_survey_success" time="0.016" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email" time="0.022" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_as_anonymous_client" time="0.006" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_with_disabled_test_api" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_not_found" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_does_not_accept_all_http_methods[head]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_does_not_accept_all_http_methods[options]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_does_not_accept_all_http_methods[patch]" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_does_not_accept_all_http_methods[post]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_does_not_accept_all_http_methods[put]" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_get_buyer_by_email_does_not_accept_all_http_methods[trace]" time="0.022" /><testcase classname="testapi.tests.test_views" name="test_get_existing_company_by_ch_id" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_get_existing_company_by_name" time="0.025" /><testcase classname="testapi.tests.test_views" name="test_check_contents_of_get_existing_company_by_ch_id" time="0.050" /><testcase classname="testapi.tests.test_views" name="test_get_company_by_ch_id_with_disabled_test_api" time="0.007" /><testcase classname="testapi.tests.test_views" name="test_get_company_by_name_with_disabled_test_api" time="0.007" /><testcase classname="testapi.tests.test_views" name="test_get_existing_company_by_ch_id_with_disabled_test_api" time="0.022" /><testcase classname="testapi.tests.test_views" name="test_get_company_by_non_existing_ch_id" time="0.011" /><testcase classname="testapi.tests.test_views" name="test_patch_existing_company_by_name_to_verify_identity" time="0.038" /><testcase classname="testapi.tests.test_views" name="test_patch_existing_company_with_no_data" time="0.033" /><testcase classname="testapi.tests.test_views" name="test_patch_existing_company_by_name_to_verify_with_code" time="0.038" /><testcase classname="testapi.tests.test_views" name="test_delete_existing_company_by_ch_id" time="0.044" /><testcase classname="testapi.tests.test_views" name="test_delete_existing_company_by_name" time="0.043" /><testcase classname="testapi.tests.test_views" name="test_delete_non_existing_company_by_ch_id_or_name" time="0.025" /><testcase classname="testapi.tests.test_views" name="test_delete_existing_company_by_ch_id_with_disabled_testapi" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_delete_existing_company_by_name_with_disabled_testapi" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_without_optional_parameters" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_without_optional_parameters" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[1-0-200]" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[0-8-200]" time="0.026" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[0-0-2000]" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[0-0-2001]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[-1-0-200]" time="0.027" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[-1--1-200]" time="0.028" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[None-0-200]" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_parameters[1-None-200]" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_with_disabled_test_api" time="0.022" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_with_disabled_test_api_and_unsigned_client" time="0.007" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[1-0-200]" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[0-8-200]" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[0-0-2000]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[0-0-2001]" time="0.022" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[-1-0-200]" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[-1--1-200]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[None-0-200]" time="0.021" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_use_optional_parameters[1-None-200]" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_with_disabled_test_api" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_with_disabled_test_api_and_unsigned_client" time="0.006" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_check_response_contents" time="0.037" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_filters[3-0-2]" time="0.069" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_filters[2-0-2]" time="0.084" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_filters[None-3-1]" time="0.081" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_filters[None-2-2]" time="0.083" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_filters[1-0-1]" time="0.079" /><testcase classname="testapi.tests.test_views" name="test_get_published_companies_use_optional_filters[0-8-0]" time="0.077" /><testcase classname="testapi.tests.test_views" name="test_get_unpublished_companies_check_response_contents" time="0.043" /><testcase classname="testapi.tests.test_views" name="test_create_test_isd_company" time="0.035" /><testcase classname="testapi.tests.test_views" name="test_create_test_isd_company_with_disabled_test_api" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_create_test_isd_company_with_disabled_test_api_and_unsigned_client" time="0.006" /><testcase classname="testapi.tests.test_views" name="test_create_test_isd_company_with_optional_parameter" time="0.038" /><testcase classname="testapi.tests.test_views" name="test_create_test_isd_company_unexpected_parameters_are_ignored" time="0.033" /><testcase classname="testapi.tests.test_views" name="test_delete_test_companies" time="0.086" /><testcase classname="testapi.tests.test_views" name="test_delete_test_companies_returns_404_when_no_test_companies" time="0.010" /><testcase classname="testapi.tests.test_views" name="test_delete_test_companies_returns_404_with_disabled_testapi" time="0.018" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers" time="0.030" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_returns_404_when_no_test_buyers" time="0.024" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_returns_404_with_disabled_testapi" time="0.023" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_does_not_accept_all_http_methods[head]" time="0.018" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_does_not_accept_all_http_methods[options]" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_does_not_accept_all_http_methods[patch]" time="0.018" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_does_not_accept_all_http_methods[post]" time="0.019" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_does_not_accept_all_http_methods[put]" time="0.020" /><testcase classname="testapi.tests.test_views" name="test_delete_test_buyers_does_not_accept_all_http_methods[trace]" time="0.019" /><testcase classname="usermanagement.tests.test_createsuperuserwithpsswd" name="test_createsuperuserwithpsswd" time="0.085" /><testcase classname="usermanagement.tests.test_grant_staff_status" name="test_grant_staff_status" time="0.011" /><testcase classname="usermanagement.tests.test_grant_staff_status" name="test_grant_staff_status_user_no_found" time="0.005" /><testcase classname="buyer.tests.test_models" name="test_buyer_model_has_update_create_timestamps" time="0.002" /><testcase classname="buyer.tests.test_tasks" name="test_buyers_csv_upload" time="0.004" /><testcase classname="company.tests.test_admin" name="test_company_search_fields_exist" time="0.003" /><testcase classname="company.tests.test_admin" name="test_company_case_study_search_fields_exist" time="0.002" /><testcase classname="company.tests.test_forms" name="test_mobile_number_clean[-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_mobile_number_clean[None-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_mobile_number_clean[very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long very long -]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[11536552-11536552]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[6872466-06872466]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[OC404310-OC404310]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[OC 321831-OC321831]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[THERE IS NO IN ENGLAND -None]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[0452 5852-04525852]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[N/A-None]" time="0.003" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[N/a-None]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[n/a-None]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[None-None]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_number_clean[-None]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[www.example.com-http://www.example.com]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[https://www.example.co.uk-https://www.example.co.uk]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[None-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[www.example.com (pending)-http://www.example.com]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[www.example.com and thing.com-http://www.example.com]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_url_clean[in progress-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[Foo bar on facebook-]" time="0.003" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[www.facebook.com/example-https://www.facebook.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[example-https://www.facebook.com/example]" time="0.003" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[@example-https://www.facebook.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[https://www.facebook.com/example-https://www.facebook.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_facebook_url_clean[None-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[Foo bar on twitter-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[www.twitter.com/example-https://www.twitter.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[example-https://www.twitter.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[@example-https://www.twitter.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[https://www.twitter.com/example-https://www.twitter.com/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[-]" time="0.003" /><testcase classname="company.tests.test_forms" name="test_twitter_url_clean[None-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[Foo bar on linked in-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[www.linkedin.com/example-https://www.linkedin.com/company/example]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[foo-https://www.linkedin.com/company/foo]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[@foo-https://www.linkedin.com/company/foo]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[https://www.linkedin.com/foo-https://www.linkedin.com/company/foo]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_linkedin_url_clean[None-]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[-SOLE_TRADER]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[None-SOLE_TRADER]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[1234567-COMPANIES_HOUSE]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[THERE IS NO IN ENGLAND -SOLE_TRADER]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[N/A-SOLE_TRADER]" time="0.003" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[N/a-SOLE_TRADER]" time="0.002" /><testcase classname="company.tests.test_forms" name="test_company_type_parser[n/a-SOLE_TRADER]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[Studio: Unit 354 Stratford Workshops\nBurford Road, London E15\nAdmin &amp; Registered at: 22 Glamis Street, Bognor Regis BO21 1DQ-Studio: Unit 354 Stratford Workshops-Burford Road-None-BO21 1DQ]" time="0.003" /><testcase classname="company.tests.test_helpers" name="test_address_parser[Winkburn Business Centre\nExample barn Farm\nWinkburn \n Notts \nBG22 8PQ-Winkburn Business Centre-Example barn Farm-None-BG22 8PQ]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[18 Craven St, London, WC2N5NG-18 Craven St-London-None-WC2N5NG]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[104-121 Lancaster Road\nNew Barnet\nHertfordshire\nBN4 8AL-104-121 Lancaster Road-New Barnet-None-BN4 8AL]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[Example corp ltd,\nc/o example Ltd, The example Group, \n50 Liverpool Street, London, England, BC2M 7PY-Example corp ltd-c/o example Ltd-None-BC2M 7PY]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[1 St Mary Axe\nLondon BC3A 8AA-1 St Mary Axe-London-None-BC3A 8AA]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[Example House, 7th Floor,\n4-5 Notting Hill Gate,\nLondon B11 3LQ-Example House-7th Floor-None-B11 3LQ]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[3000 Example Green\nExample Precincts\nGloucester \nGloucestershire BL1 2LP\n-3000 Example Green-Example Precincts-None-BL1 2LP]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[55 Example Road, Baconsfield, Buckinghamshire, BP9 1QL-55 Example Road-Baconsfield-None-BP9 1QL]" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_address_parser[Office 20277\nPO Box 15113\nBirmingham B2 4P-Office 20277-PO Box 15113-PO Box 15113-B2 4P]" time="0.004" /><testcase classname="company.tests.test_helpers" name="test_sso_user_pk" time="0.002" /><testcase classname="company.tests.test_helpers" name="test_sso_full_name" time="0.002" /><testcase classname="company.tests.test_models" name="test_company_model_has_update_create_timestamps" time="0.002" /><testcase classname="company.tests.test_models" name="test_company_case_study_model_has_update_create_timestamps" time="0.002" /><testcase classname="company.tests.test_models" name="test_company_is_verified[False-False-False-False-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_company_is_verified[False-False-True-False-True]" time="0.003" /><testcase classname="company.tests.test_models" name="test_company_is_verified[False-True-False-False-True]" time="0.003" /><testcase classname="company.tests.test_models" name="test_company_is_verified[False-True-True-True-True]" time="0.003" /><testcase classname="company.tests.test_models" name="test_company_is_verified[True-False-True-False-True0]" time="0.004" /><testcase classname="company.tests.test_models" name="test_company_is_verified[True-False-True-False-True1]" time="0.003" /><testcase classname="company.tests.test_models" name="test_company_is_verified[True-False-False-False-True]" time="0.004" /><testcase classname="company.tests.test_models" name="test_company_is_verified[True-True-False-False-True]" time="0.003" /><testcase classname="company.tests.test_models" name="test_company_is_verified[False-False-False-True-True]" time="0.004" /><testcase classname="company.tests.test_models" name="test_company_is_verified[True-True-True-True-True]" time="0.003" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[name]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[description0]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[keywords]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[summary]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[description1]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[export_destinations_other]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[email_full_name]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[postal_full_name]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[address_line_1]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[address_line_2]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[locality]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[country]" time="0.003" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[postal_code]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_company[po_box]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[title]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[description]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[short_summary]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[image_one_caption]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[image_two_caption]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[image_three_caption]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[testimonial]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[testimonial_name]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[testimonial_job_title]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[testimonial_company]" time="0.002" /><testcase classname="company.tests.test_models" name="test_xss_attack_cast_Study[keywords]" time="0.002" /><testcase classname="company.tests.test_models" name="test_can_publish[---False-False]" time="0.004" /><testcase classname="company.tests.test_models" name="test_can_publish[--a@e.com-False-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[d---False-False]" time="0.004" /><testcase classname="company.tests.test_models" name="test_can_publish[d--a@e.com-False-False]" time="0.004" /><testcase classname="company.tests.test_models" name="test_can_publish[d-s--False-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[-s--False-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[d-s-a@e.com-False-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[-s-a@e.com-False-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[---True-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[--a@e.com-True-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[d---True-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[d--a@e.com-True-True]" time="0.005" /><testcase classname="company.tests.test_models" name="test_can_publish[d-s--True-False]" time="0.004" /><testcase classname="company.tests.test_models" name="test_can_publish[-s--True-False]" time="0.003" /><testcase classname="company.tests.test_models" name="test_can_publish[d-s-a@e.com-True-True]" time="0.004" /><testcase classname="company.tests.test_models" name="test_can_publish[-s-a@e.com-True-True]" time="0.003" /><testcase classname="company.tests.test_models" name="test_user_model_has_update_create_timestamps" time="0.002" /><testcase classname="company.tests.test_serializers" name="test_company_serializer_has_keywords_shared_serializers" time="0.004" /><testcase classname="company.tests.test_serializers" name="test_company_number_serializer_validators" time="0.002" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer" time="0.004" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer_empty_term_sector" time="0.004" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer_optional_field[expertise_industries-field_value0]" time="0.004" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer_optional_field[expertise_regions-field_value1]" time="0.004" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer_optional_field[expertise_countries-field_value2]" time="0.005" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer_optional_field[expertise_languages-field_value3]" time="0.005" /><testcase classname="company.tests.test_serializers" name="test_company_search_serializer_optional_field[expertise_products_services_labels-field_value4]" time="0.007" /><testcase classname="company.tests.test_tasks" name="test_retrieve_companies_house_company_status" time="0.005" /><testcase classname="company.tests.test_tasks" name="test_suppliers_csv_upload" time="0.005" /><testcase classname="company.tests.test_views" name="test_search[investment-support-directory-search]" time="0.864" /><testcase classname="company.tests.test_views" name="test_search[find-a-supplier-search]" time="0.837" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[1-0-investment-support-directory-search]" time="0.891" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[1-0-find-a-supplier-search]" time="0.814" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[2-5-investment-support-directory-search]" time="0.833" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[2-5-find-a-supplier-search]" time="0.836" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[3-10-investment-support-directory-search]" time="0.789" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[3-10-find-a-supplier-search]" time="0.804" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[4-15-investment-support-directory-search]" time="0.838" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[4-15-find-a-supplier-search]" time="0.856" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[5-20-investment-support-directory-search]" time="0.801" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[5-20-find-a-supplier-search]" time="0.828" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[6-25-investment-support-directory-search]" time="0.878" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[6-25-find-a-supplier-search]" time="0.833" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[7-30-investment-support-directory-search]" time="0.828" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[7-30-find-a-supplier-search]" time="0.833" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[8-35-investment-support-directory-search]" time="0.785" /><testcase classname="company.tests.test_views" name="test_search_paginate_first_page[8-35-find-a-supplier-search]" time="0.798" /><testcase classname="company.tests.test_views" name="test_search_sector_filter[investment-support-directory-search]" time="0.853" /><testcase classname="company.tests.test_views" name="test_search_sector_filter[find-a-supplier-search]" time="0.792" /><testcase classname="company.tests.test_views" name="test_search_wildcard_filters[investment-support-directory-search]" time="0.989" /><testcase classname="company.tests.test_views" name="test_search_wildcard_filters[find-a-supplier-search]" time="0.780" /><testcase classname="company.tests.test_views" name="test_search_wildcard_filters_multiple[investment-support-directory-search]" time="0.774" /><testcase classname="company.tests.test_views" name="test_search_wildcard_filters_multiple[find-a-supplier-search]" time="0.797" /><testcase classname="core.tests.test_authentication" name="test_gecko_basic_auth_uses_settings_for_auth" time="0.003" /><testcase classname="core.tests.test_authentication" name="test_gecko_basic_auth_raises_exception_on_incorrect_user" time="0.002" /><testcase classname="core.tests.test_authentication" name="test_gecko_basic_auth_raises_exception_on_incorrect_password" time="0.002" /><testcase classname="core.tests.test_authentication" name="test_gecko_basic_auth_raises_exception_on_incorrect_credentials" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_upload_file_object_to_s3" time="0.004" /><testcase classname="core.tests.test_helpers" name="test_get_file_from_s3" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_get_s3_file_stream" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_companies_house_client_consumes_auth" time="0.003" /><testcase classname="core.tests.test_helpers" name="test_companies_house_client_logs_unauth" time="0.003" /><testcase classname="core.tests.test_helpers" name="test_companies_house_client_retrieve_profile" time="0.003" /><testcase classname="core.tests.test_helpers" name="test_path_and_rename_logos_name_is_uuid" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_path_and_rename_logos_instance_pk" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_path_and_rename_logos_no_instance" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_path_and_rename_logos_no_extension" time="0.003" /><testcase classname="core.tests.test_helpers" name="test_get_profile_response_ok" time="0.002" /><testcase classname="core.tests.test_helpers" name="test_get_companies_house_profile_response_bad" time="0.002" /><testcase classname="core.tests.test_storage" name="test_storage_private_local" time="0.002" /><testcase classname="core.tests.test_storage" name="test_storage_private_custom_s3" time="0.007" /><testcase classname="core.tests.test_views" name="test_force_staff_sso" time="0.141" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_import_metadata_source_data_filter_tables" time="0.002" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_helper_should_ingest_run[staging-view_date0-swap_date0-True]" time="0.023" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_helper_should_ingest_run[staging-view_date1-swap_date1-False]" time="0.020" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_helper_should_ingest_run[production-view_date2-swap_date2-False]" time="0.020" /><testcase classname="dataservices.management.commands.tests.test_import_data" name="test_helper_should_ingest_run[production-view_date3-swap_date3-True]" time="0.020" /><testcase classname="enrolment.tests.test_models" name="test_trusted_source_signup_code_str" time="0.002" /><testcase classname="enrolment.tests.test_templatetags" name="test_email_image_returns_constant_image" time="0.002" /><testcase classname="exporting.tests.test_helpers" name="test_postcode_to_region_id_region_missing" time="0.003" /><testcase classname="exporting.tests.test_helpers" name="test_postcode_to_region_id_region_present" time="0.003" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_set_useable_fields" time="0.002" /><testcase classname="exportplan.management.commands.tests.test_report_export_plan" name="test_write_ep_csv" time="0.004" /><testcase classname="exportplan.tests.test_helpers" name="test_country_code_iso3_to_iso2" time="0.003" /><testcase classname="exportplan.tests.test_helpers" name="test_country_code_iso3_to_iso2_not_found" time="0.002" /><testcase classname="exportplan.tests.test_helpers" name="test_get_timezone" time="0.003" /><testcase classname="exportplan.tests.test_helpers" name="test_get_local_time_not_found" time="0.002" /><testcase classname="exportplan.tests.test_helpers" name="test_get_iso3_by_country_name" time="0.002" /><testcase classname="exportplan.tests.test_helpers" name="test_get_iso3_by_country_name_upper" time="0.002" /><testcase classname="exportplan.tests.test_helpers" name="test_get_iso3_by_country_name_lower" time="0.002" /><testcase classname="exportplan.tests.test_helpers" name="test_get_iso3_by_country_name_none" time="0.003" /><testcase classname="exportplan.tests.test_helpers" name="test_dictfetchall" time="0.003" /><testcase classname="exportplan.tests.test_helpers" name="test_build_query" time="0.002" /><testcase classname="healthcheck.tests.test_backends" name="test_elasticsearch_ping_error" time="0.003" /><testcase classname="healthcheck.tests.test_backends" name="test_elasticsearch_ping_ok" time="0.002" /><testcase classname="notifications.tests.test_commands" name="test_notify_command_runs_functions_in_daily_type" time="0.006" /><testcase classname="notifications.tests.test_commands" name="test_notify_command_runs_functions_in_weekly_type" time="0.003" /><testcase classname="notifications.tests.test_commands" name="test_notify_command_handles_incorrect_type_param" time="0.002" /><testcase classname="notifications.tests.test_commands" name="test_notify_command_requires_type_param" time="0.002" /><testcase classname="notifications.tests.test_email" name="test_notification_base_rejects_if_required_properties_missing" time="0.002" /><testcase classname="notifications.tests.test_models" name="test_supplieremailnotifications_str_method" time="0.003" /><testcase classname="notifications.tests.test_models" name="test_anonymous_email_notification_str_method" time="0.002" /><testcase classname="personalisation.tests.test_helpers" name="test_exporting_is_great_handles_auth" time="0.003" /><testcase classname="personalisation.tests.test_serializers" name="test_parse_search_results" time="0.380" /></testsuite></testsuites>